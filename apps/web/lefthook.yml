pre-commit:
  parallel: true
  commands:
    # Auto-fix linting issues (includes spell check via @cspell/eslint-plugin), then check again to catch unfixable issues
    lint:
      glob: "*.{ts,tsx}"
      run: pnpm eslint --fix {staged_files} && git add {staged_files} && pnpm eslint {staged_files}
    # Auto-format code
    format:
      glob: "*.{ts,tsx,json,css}"
      run: pnpm prettier --write {staged_files} && git add {staged_files}
    # Type checking - can't auto-fix, will fail on errors
    types:
      run: pnpm tsc --noEmit
    # Auto-fix unused code - removes unused exports, dependencies, etc.
    knip:
      run: pnpm knip --fix
